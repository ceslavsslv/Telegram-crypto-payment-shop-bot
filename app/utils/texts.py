# utils/texts.py

texts = {
    "start": {
        "en": "Welcome to the shop! Use the buttons below to navigate.",
        "ru": "Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½! Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ½Ğ¸Ğ¶Ğµ Ğ´Ğ»Ñ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸.",
        "lv": "Laipni lÅ«dzam veikalÄ! Izmantojiet pogas zemÄk, lai pÄrvietotos."
    },
    "language_set": {
        "en": "ğŸ‡ºğŸ‡¸ English language has been successfully installed",
        "ru": "ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹ ÑĞ·Ñ‹Ğº ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½",
        "lv": "ğŸ‡±ğŸ‡» LatvieÅ¡u valoda veiksmÄ«gi uzstÄdÄ«ta"
    },
    "menu_buttons": {
        "shopping": {
            "en": "ğŸ›ï¸ Shopping", "ru": "ğŸ›ï¸ ĞŸĞ¾ĞºÑƒĞ¿ĞºĞ¸", "lv": "ğŸ›ï¸ IepirkÅ¡anÄs"
            },
        "add_funds": {
            "en": "ğŸ’¶ Add funds", "ru": "ğŸ’¶ ĞŸĞ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ", "lv": "ğŸ’¶ Pievienot lÄ«dzekÄ¼us"
            },
        "account": {
            "en": "ğŸ›’ Account", "ru": "ğŸ›’ ĞĞºĞºĞ°ÑƒĞ½Ñ‚", "lv": "ğŸ›’ Konts"
            },
        "support": {
            "en": "â˜ï¸ Support", "ru": "â˜ï¸ ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°", "lv": "â˜ï¸ Atbalsts"
            },
        "news": {
            "en": "ğŸ“° News", "ru": "ğŸ“° ĞĞ¾Ğ²Ğ¾ÑÑ‚Ğ¸", "lv": "ğŸ“° ZiÅ†as"
            },
        "referral": {
            "en": "ğŸ”· Referral system", "ru": "ğŸ”· Ğ ĞµÑ„ĞµÑ€Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°", "lv": "ğŸ”· Ieteikumu sistÄ“ma"
            },
        "language": {
            "en": "ğŸ‡·ğŸ‡º Change language", "ru": "ğŸ‡ºğŸ‡¸ Ğ¡Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ ÑĞ·Ñ‹Ğº", "lv": "ğŸ‡¬ğŸ‡§ MainÄ«t valodu"
            }
    },
    "account_info": {
        "en": "ğŸ‘¤ Balance: EUR{balance:.2f}\nUser ID: {user_id}\nTotal purchases: {total} EUR\n{history}",
        "ru": "ğŸ‘¤ Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ: EUR{balance:.2f}\nID Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ: {user_id}\nĞ’ÑĞµĞ³Ğ¾ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ¾Ğº: {total} EUR\n{history}",
        "lv": "ğŸ‘¤ Bilance: EUR{balance:.2f}\nLietotÄja ID: {user_id}\nKopÄ“jie pirkumi: {total} EUR\n{history}"
    },
    "history_entry": {
        "en": "ğŸ›’ {product} - ${price} ({timestamp})",
        "ru": "ğŸ›’ {product} - ${price} ({timestamp})",
        "lv": "ğŸ›’ {product} - ${price} ({timestamp})"
    },
    "no_purchases": {
        "en": "No purchases yet.",
        "ru": "ĞŸĞ¾ĞºĞ° Ğ½ĞµÑ‚ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ¾Ğº.",
        "lv": "VÄ“l nav veikti pirkumi."
    },
    "ref_info": {
        "en": "ğŸ”— You invited {count} users.\nEarned: EUR{earned:.2f}",
        "ru": "ğŸ”— Ğ’Ñ‹ Ğ¿Ñ€Ğ¸Ğ³Ğ»Ğ°ÑĞ¸Ğ»Ğ¸ {count} Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹.\nĞ—Ğ°Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ¾: EUR{earned:.2f}",
        "lv": "ğŸ”— Tu uzaicinÄji {count} lietotÄjus.\nNopelnÄ«ts: EUR{earned:.2f}"
    }
}

def t(key: str, lang: str = "en", **kwargs):
    lang_data = texts.get(key)
    if not lang_data:
        return f"[Missing text: {key}]"
    return lang_data.get(lang, lang_data.get("en", "")).format(**kwargs)